---
import Sparkles from '../ui/sparkles.astro';
---

<section class="relative flex items-center justify-center min-h-screen px-4 overflow-hidden">
  <!-- Sparkles Background -->
  <div class="absolute inset-0 w-full h-full">
    <Sparkles
      id="hero-sparkles"
      className="w-full h-full"
      background="transparent"
      minSize={0.4}
      maxSize={1.0}
      speed={0.5}
      particleColor="#9333ea"
      particleDensity={50}
    />
  </div>

  <!-- Gradient Overlay -->
  <div class="absolute inset-0 bg-gradient-to-b from-transparent via-black/50 to-black pointer-events-none"></div>

  <!-- Content -->
  <div id="hero-content" class="relative z-10 text-center max-w-2xl mx-auto">
    <h1 class="text-5xl md:text-6xl lg:text-8xl font-bold mb-6 text-white">
      Aceternity AI
    </h1>
    <p class="text-lg md:text-xl text-gray-400 mb-8">
      Modern web experiences with elegant design
    </p>
  </div>
</section>

<script>
  // Parallax scroll effect
  if (typeof window !== 'undefined') {
    const heroContent = document.getElementById('hero-content');

    const handleScroll = () => {
      if (!heroContent) return;

      const scrollY = window.scrollY;
      const heroHeight = window.innerHeight;

      // Calculate opacity and transform based on scroll
      const opacity = Math.max(1 - (scrollY / heroHeight) * 1.5, 0.3);
      const translateY = scrollY * 0.5;

      heroContent.style.opacity = opacity.toString();
      heroContent.style.transform = `translateY(${translateY}px)`;
    };

    window.addEventListener('scroll', handleScroll, { passive: true });

    // Cleanup
    document.addEventListener('astro:before-swap', () => {
      window.removeEventListener('scroll', handleScroll);
    });
  }

  // Adjust particle performance for mobile
  if (typeof window !== 'undefined') {
    const updateParticleDensity = () => {
      const isMobile = window.innerWidth < 768;
      const heroSparkles = document.getElementById('hero-sparkles');

      if (heroSparkles && isMobile) {
        // Reduce opacity on mobile for better performance
        heroSparkles.style.opacity = '0.3';
      } else if (heroSparkles) {
        heroSparkles.style.opacity = '1';
      }
    };

    updateParticleDensity();
    window.addEventListener('resize', updateParticleDensity);

    document.addEventListener('astro:before-swap', () => {
      window.removeEventListener('resize', updateParticleDensity);
    });
  }
</script>

<style>
  #hero-content {
    transition: opacity 0.1s linear, transform 0.1s linear;
  }
</style>
